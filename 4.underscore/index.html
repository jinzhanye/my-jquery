<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>under chain</title>
</head>
<body>
<!--<script src="../underscore.js"></script>-->
<script src="underscore.js"></script>
<script>
function chainDemo() {
  console.log(_([1, 2, 3, 4, 5, 4, 5, 6, "a", "A"])
    .chain()
    .unique((value) => {
      return typeof value === "string" ? value.toLowerCase() : value;
    })
    .map(function (value) {
      return `${value} mapped`
    }, { str: 'I am context' })
    .value());
}

function restDemo() {
  function test(argA, argA, rest) {
    console.log(rest); // [3,4,5,6]
  }

  // 包装器
  var wrapperTest = _.restArguments(test);
  wrapperTest(1, 2, 3, 4, 5, 6);
}

function reduceDemo() {
  // 16
  console.log(_.reduce([1, 2, 3], (acc, cur, idx, arr) => {
    return acc + cur;
  }, 10));

  // 0
  console.log(_.reduceRight([1, 2, 3], (acc, cur, idx, arr) => {
    return acc - cur;
  }));
}

// reduceDemo();

function uniqDemo() {
  console.log(_.unique([1, 2, 3, 4, 4, 5, 6], true));
  console.log(_.unique([1, 4, 2, 3, 'a', 'A', 4, 5, 6], function (item) {
    return _.isString(item) ? item.toLocaleLowerCase() : item;
  }));
}

uniqDemo();
</script>
</body>
</html>
